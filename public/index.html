<!DOCTYPE html>
<html lang="en">
<head>
    <title>Title of the document</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="manifest" href="/manifest.json">
    <!-- ios support -->
    <link rel="apple-touch-icon" href="/icons/icon-96x96.png">
    <meta name="apple-mobile-web-app-status-bar" content="#aa7700">
    <meta name="theme-color" content="#FFE1C4">
    <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
    <form>
        <input type="radio" id="learning-radio" name="mode" value="learning" checked/>learning</br>
        <ul id="learning-mode-options">
            <li style="list-style-type: none;">
                <input type="radio" name="learning-mode" value="evolutionary" checked/>evolutionary
            </li>
            <li style="list-style-type: none;">
                <input type="radio" name="learning-mode" value="neural-network"/>deep learning
            </li>
        </ul></br>
        <input type="radio" name="mode" value="playing"/>playing</br>
        <ul id="save-moves-list" style="display:none">
            <li style="list-style-type: none;">
                <input type="checkbox" id="save-moves" checked/>save moves
            </li>
        </ul>

    </form>
    <input type="submit" value="Go to game" onclick="goToGame()"/>

    <script>
        var radio = document.querySelectorAll('input[name="mode"]');
        function goToGame(){
            let modeValue = document.querySelector('input[name="mode"]:checked').value
            localStorage.setItem("mode", document.querySelector('input[name="mode"]:checked').value);
            if (modeValue === 'learning'){
                localStorage.setItem("learning-mode", document.querySelector('input[name="learning-mode"]:checked').value);
                localStorage.setItem("save-moves", "none");
            }else{
                localStorage.setItem("learning-mode", "none");
                localStorage.setItem("save-moves", document.querySelector("#save-moves").checked);
            }
            window.location='/game.html';
        }

        function changeHandler(event) {
            
            let learningOptions = document.getElementById('learning-mode-options');
            let saveOption = document.getElementById('save-moves-list');
            if ( this.value==='learning') {
                learningOptions.style.display = 'inline-block';
                saveOption.style.display = 'none';
            } else { 
                learningOptions.style.display = 'none';
                saveOption.style.display = 'inline-block';
            }
        }

        radio[0].addEventListener('change', changeHandler);
        radio[1].addEventListener('change', changeHandler);

    </script>
</body>
</html>
